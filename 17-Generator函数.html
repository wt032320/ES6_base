<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
    Generator函数
      概念： 1.ES6提供的解决异步编程的方案之一
            2. Generator 函数是一个状态机，内部封装了不同状态的数据
            3. 用来生成遍历器对象
            4. 可暂停函数(惰性求值)，yield可暂停，next方法可启动。每次返回的是yield后的表达式结果，是一个对象
      特点：
            1. function 与函数名之间有一个星号
            2. 内部用yield 表达式来定义不同的状态 yield语句的返回值是undefined
  -->
  <script>
    function* myGenerator() {
      console.log('开始执行')
      yield 'hello'
      console.log('暂停后，再次执行')
      yield 'generator'
      console.log('遍历完毕')
    }
    let Mg = myGenerator()  // 返回是指针对象
    console.log(Mg.next())   // 开始执行函数内部语句 遇到yield暂停 
    console.log(Mg.next())
    console.log(Mg.next())

    // 对象的symbol.iterator属性 指向遍历器对象
    let obj =  { username: 'libai', age: 34 }
    obj[Symbol.iterator] = function* myTest() {
      yield 1
      yield 2
      yield 3
    }
    for (let i of obj) {
      console.log(i)
    }
  </script>
</body>
</html>